<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>leojs</title>
	<link rel="stylesheet" href="css/main.css">
	<style>
	.input-raw{
		border:1px solid #ddd;
		border-radius: 5px;
		overflow: hidden;
	}
	.input-raw .label{
		display: inline-block;
		background-color: #0074ff;
		color:white;
	}
	.input-raw input[type='text']{
		border:none;
	}
	#todoList li{
		cursor:default;
	}
	.res,
	.editor{
		border:1px solid #ddd;
		border-radius: 5px;
		padding:10px;
		width:500px;
		min-height:300px;
		margin:20px auto;
	}
	</style>
</head>
<body style="padding:100px;">
<div style="width:500px;margin:0 auto;">
	<div class="editor"></div>
	<button id="sub">sub</button>
	<button id="bold">bold</button>
	<button id="addImg">addImg</button>
	<input type="color" id="clo">
	<div class="res"></div>
</div>
<script src="js/vue.js"></script>
<script src="js/leo.js"></script>
<script src="js/leo.editor.js"></script>
<script>
	// var e = l._class('editor').editor()
	// l.id('sub').click(function(){
	// 	console.dir(l.getSelectContent().startContainer.nodeName)
	// 	console.dir(l.getSelectContent())
	// 	var con = e.getContent().replace(/\[\[/g,'<');
	// 		con = con.replace(/\]\]/g,'>');
	// 	l._class('res').html(con)
	// })
	// l.id('bold').click(function(){
	// 	var select = l.getSelectContent();
	// 	// e.textArea.html(select.startContainer.)
	// })
	// l.id('addImg').click(function(){
	// 	var select = l.getSelectContent()
	// 	var nodeName = select.startContainer.nodeName.lower();
	// 	if(nodeName == 'div'){
	// 		select.startContainer.innerHTML = select.startContainer.innerHTML.insert(select.startOffset,'[[img src="http://image.zhangxinxu.com/image/blog/201711/Canvas_drawimage.jpg"]]')
	// 	}else{
	// 		select.startContainer.data = select.startContainer.data.insert(select.startOffset,'[[img src="http://image.zhangxinxu.com/image/blog/201711/Canvas_drawimage.jpg"]]')
	// 	}
	// })
	var e = l.editor(l._class('editor'));
	l.id('sub').click(function(){
		console.log(l.getSelectContent().startContainer.nodeName)
		console.log(e.getContent().length)
	})
	e.textArea.on('change',function(){
		l._class('res').html(e.getContent())
	})
</script>
</body>
</html>