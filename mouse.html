<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>mouse</title>
	<style>
	*{
		padding:0;
		margin:0;
	}
	html,body{
		height:100%;
		width:100%;
	}
	#can{
		/*background-color: #aaa;*/
	}
	</style>
</head>
<body>
	<canvas id="can"></canvas>
	<script src="leo.js"></script>
	<script>
	var cd = l(l.id('can'));
	var can = l.id('can').getContext('2d');
	cd.css({
		width:"100%",
		height:"100%"
	})
	cd.dom.width = cd.offset('Width');
	cd.dom.height = cd.offset('Height');
	var Ln = function(position){
		this.position = position;
		this.center = [0,0];
		this.dirX = ~~(Math.sin(Math.PI * 2 * Math.random()) * 10);
		this.dirY = ~~(Math.sin(Math.PI * 2 * Math.random()) * 10); 
	}
	Ln.prototype = {
		run:function(){
			if(Math.abs(this.position[0] - this.center[0]) <= 100){
				this.position[0] += this.dirX;
			}else{
				// this.dirX = ~~(Math.sin(Math.PI * 2 * Math.random()) * 10);
				this.dirX = this.dirX * -10 * Math.random();
			}
			if(Math.abs(this.position[1] - this.center[1]) <= 100){
				this.position[1] += this.dirY;
			}else{
				// this.dirY = ~~(Math.sin(Math.PI * 2 * Math.random()) * 10);
				this.dirY = this.dirY * -10 * Math.random();
			}
			this.draw();
		},
		draw:function(center){
			can.save();
			can.beginPath();
			// can.strokeStyle = "white";
			can.moveTo(this.center[0],this.center[1]);
			can.lineTo(this.position[0] + this.dirX,this.position[1] + this.dirY);
			can.stroke();
			can.closePath();
			can.restore();
		}
	}
	var a = new Ln([400,400]);
	document.onmousemove = function(ev){
		var ev = ev || event;
		a.center = [ev.clientX,ev.clientY];
	}
	function play(){
		l.aniFrm(function(){
			can.clearRect(0,0,1366,768);
			a.run();
			play();
		})
	}
	play();
	</script>
</body>
</html>